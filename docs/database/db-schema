// Paste below code in https://dbdiagram.io/d editor to get graphical(ERD) view of the database

Table rh_accounts {
  id bigint [increment]
  account text
  org_id text [not null]
  Indexes {
    id [pk]
    account [unique, type: btree]
    org_id [unique, type: btree]
  }
}

Table clusters {
  id bigint [increment]
  tenant_id bigint [ref: > rh_accounts.id]
  cluster_id text [not null]
  Indexes {
    id [pk]
    cluster_id [unique, type: btree]
    tenant_id [name: "rh_accounts.id_fkey", type: btree]
  }
}

Table recommendations {
  id bigint [increment]
  cluster_id bigint [ref: > clusters.id]
  experiment_name text
  namespace text
  kubernetes_objects text
  kubernetes_name text
  containers text[]
  recommendations jsonb
  Indexes {
    id [pk]
    cluster_id [name: "clusters.id_fkey", type: btree]
    containers [type: gin] // gin index is not supported in dbdiagram.io so this will throw error
  }
}
